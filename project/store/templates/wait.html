{% extends './base.html' %}

{% block content %}
<script language="javascript">



  function showPopup() {
    window.open("{% url 'phone' store.id %}", "a", "width=500, height=500, left=100, top=50");
  }

  document.getElementById('btnSend')
    .addEventListner('click', function (event) {
        document.getElementById('form').submit();
    })
;
</script>
<div class="container mimin-wrapper">

  <!-- start:Left Menu -->

  <!-- end: Left Menu -->


  <!-- start: content -->
  <div id="content">
    <div class="panel">
      <div class="col-md-12" style="padding:20px;">
        <div class="col-md-12 padding-0">
          <div class="col-md-8 padding-0">
            <div class="col-md-12 padding-0">
              <div class="col-md-6">
                <div class="panel box-v1">
                  <div class="panel-heading bg-white border-none">
                    <div class="col-md-6 col-sm-6 col-xs-6 text-left padding-0">
                      <h4 class="text-left">대기자 명단</h4>
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-6 text-right">
                      <h4>
                        <span class="icon-user icons icon text-right"></span>
                      </h4>
                    </div>
                  </div>
                  <div class="panel-body text-center">
                    <h2>
                      {% if client %}
                      {% for n in client %}
                      <li>{{n.my_num}}</li>
                      {% endfor %}
                      {% else %}
                      대기가 없습니다.
                      {% endif %}
                    </h2>
                    <hr>
                    <h4 class="text-left">예상 대기 시간</h4>
                    <div class="text-center">
                      <h5>100분</h5>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="panel box-v1">
                  <div class="panel-heading bg-white border-none">
                    <div class="col-md-6 col-sm-6 col-xs-6 text-left padding-0">

                      <h4 class="text-left">나의 대기번호</h4>
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-6 text-right">
                      <h4>
                        <span class="icon-basket-loaded icons icon text-right"></span>
                      </h4>
                    </div>
                  </div>
                  <div class="panel-body text-center">

                    <!-- Button to Open the Modal -->
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#reservation">
                      예약하기
                    </button>
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#confirm">
                        내번호확인
                    </button>

                    <!-- The Modal -->

                    <div class="modal" id="reservation">
                      <div class="modal-dialog">
                        <div class="modal-content">
                          

                            <!-- Modal Header -->
                            <form action="{% url 'create_client' store.id %}" method="post">
                            <div class="modal-header">
                              <h4 class="modal-title">예약하기</h4>
                              <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>

                            <!-- Modal body -->
                            <div class="modal-body">
                              <input type="text" name="phone" value="">
                              {% csrf_token %}
                            </div>

                            <!-- Modal footer -->
                            <div class="modal-footer">
                              <button type="submit" class="btn btn-danger">Close</button>
                            </div>
                          </form>
                        </div>
                      </div>
                    </div>
                    
                    <!-- The Modal -->

                    <div class="modal" id="confirm">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            
  
                              <!-- Modal Header -->
                              <form action="{% url 'create_client' store.id %}" method="post">
                              <div class="modal-header">
                                <h4 class="modal-title">확인</h4>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                              </div>
  
                              <!-- Modal body -->
                              <div class="modal-body">
                                <input type="text" name="phone" value="">
                                {% csrf_token %}
                              </div>
  
                              <!-- Modal footer -->
                              <div class="modal-footer">
                                <button type="submit" class="btn btn-danger">Close</button>
                              </div>
                            </form>
                          </div>
                        </div>
                      </div>


                    <p>자신의 번호를 입력하면 예약이 됩니다</p>
                    <hr />
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="panel box-v4">
                <div class="panel-heading bg-white border-none">
                  <h4><span class="icon-notebook icons"></span> 주변 놀거리</h4>
                </div>
                <div class="panel-body padding-0">
                  <div class="col-md-12 col-xs-12 col-md-12 padding-0 box-v4-alert">
                    <h2>Checking Your Server!</h2>
                    <p>여러가지 링크 달기</p>
                    <b><span class="icon-clock icons"></span> Today at 15:00</b>
                  </div>

                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
<!-- end: content -->


<!-- start: right menu -->

<!-- end: right menu -->

</div>

<!-- start: Mobile -->
<div id="mimin-mobile" class="reverse">
  <div class="mimin-mobile-menu-list">
    <div class="col-md-12 sub-mimin-mobile-menu-list animated fadeInLeft">
      <ul class="nav nav-list">
        <li class="active ripple">
          <a class="tree-toggle nav-header">
            <span class="fa-home fa"></span>Dashboard
            <span class="fa-angle-right fa right-arrow text-right"></span>
          </a>
          <ul class="nav nav-list tree">
            <li><a href="dashboard-v1.html">Dashboard v.1</a></li>
            <li><a href="dashboard-v2.html">Dashboard v.2</a></li>
          </ul>
        </li>
        <li class="ripple">
          <a class="tree-toggle nav-header">
            <span class="fa-diamond fa"></span>Layout
            <span class="fa-angle-right fa right-arrow text-right"></span>
          </a>
          <ul class="nav nav-list tree">
            <li><a href="topnav.html">Top Navigation</a></li>
            <li><a href="boxed.html">Boxed</a></li>
          </ul>
        </li>
        <li class="ripple">
          <a class="tree-toggle nav-header">
            <span class="fa-area-chart fa"></span>Charts
            <span class="fa-angle-right fa right-arrow text-right"></span>
          </a>
          <ul class="nav nav-list tree">
            <li><a href="chartjs.html">ChartJs</a></li>
            <li><a href="morris.html">Morris</a></li>
            <li><a href="flot.html">Flot</a></li>
            <li><a href="sparkline.html">SparkLine</a></li>
          </ul>
        </li>
        <li class="ripple">
          <a class="tree-toggle nav-header">
            <span class="fa fa-pencil-square"></span>Ui Elements
            <span class="fa-angle-right fa right-arrow text-right"></span>
          </a>
          <ul class="nav nav-list tree">
            <li><a href="color.html">Color</a></li>
            <li><a href="weather.html">Weather</a></li>
            <li><a href="typography.html">Typography</a></li>
            <li><a href="icons.html">Icons</a></li>
            <li><a href="buttons.html">Buttons</a></li>
            <li><a href="media.html">Media</a></li>
            <li><a href="panels.html">Panels & Tabs</a></li>
            <li><a href="notifications.html">Notifications & Tooltip</a></li>
            <li><a href="badges.html">Badges & Label</a></li>
            <li><a href="progress.html">Progress</a></li>
            <li><a href="sliders.html">Sliders</a></li>
            <li><a href="timeline.html">Timeline</a></li>
            <li><a href="modal.html">Modals</a></li>
          </ul>
        </li>
        <li class="ripple">
          <a class="tree-toggle nav-header">
            <span class="fa fa-check-square-o"></span>Forms
            <span class="fa-angle-right fa right-arrow text-right"></span>
          </a>
          <ul class="nav nav-list tree">
            <li><a href="formelement.html">Form Element</a></li>
            <li><a href="#">Wizard</a></li>
            <li><a href="#">File Upload</a></li>
            <li><a href="#">Text Editor</a></li>
          </ul>
        </li>
        <li class="ripple">
          <a class="tree-toggle nav-header">
            <span class="fa fa-table"></span>Tables
            <span class="fa-angle-right fa right-arrow text-right"></span>
          </a>
          <ul class="nav nav-list tree">
            <li><a href="datatables.html">Data Tables</a></li>
            <li><a href="handsontable.html">handsontable</a></li>
            <li><a href="tablestatic.html">Static</a></li>
          </ul>
        </li>
        <li class="ripple">
          <a href="calendar.html">
            <span class="fa fa-calendar-o"></span>Calendar
          </a>
        </li>
        <li class="ripple">
          <a class="tree-toggle nav-header">
            <span class="fa fa-envelope-o"></span>Mail
            <span class="fa-angle-right fa right-arrow text-right"></span>
          </a>
          <ul class="nav nav-list tree">
            <li><a href="mail-box.html">Inbox</a></li>
            <li><a href="compose-mail.html">Compose Mail</a></li>
            <li><a href="view-mail.html">View Mail</a></li>
          </ul>
        </li>
        <li class="ripple">
          <a class="tree-toggle nav-header">
            <span class="fa fa-file-code-o"></span>Pages
            <span class="fa-angle-right fa right-arrow text-right"></span>
          </a>
          <ul class="nav nav-list tree">
            <li><a href="forgotpass.html">Forgot Password</a></li>
            <li><a href="login.html">SignIn</a></li>
            <li><a href="reg.html">SignUp</a></li>
            <li><a href="article-v1.html">Article v1</a></li>
            <li><a href="search-v1.html">Search Result v1</a></li>
            <li><a href="productgrid.html">Product Grid</a></li>
            <li><a href="profile-v1.html">Profile v1</a></li>
            <li><a href="invoice-v1.html">Invoice v1</a></li>
          </ul>
        </li>
        <li class="ripple"><a class="tree-toggle nav-header"><span class="fa "></span> MultiLevel <span
              class="fa-angle-right fa right-arrow text-right"></span> </a>
          <ul class="nav nav-list tree">
            <li><a href="view-mail.html">Level 1</a></li>
            <li><a href="view-mail.html">Level 1</a></li>
            <li class="ripple">
              <a class="sub-tree-toggle nav-header">
                <span class="fa fa-envelope-o"></span> Level 1
                <span class="fa-angle-right fa right-arrow text-right"></span>
              </a>
              <ul class="nav nav-list sub-tree">
                <li><a href="mail-box.html">Level 2</a></li>
                <li><a href="compose-mail.html">Level 2</a></li>
                <li><a href="view-mail.html">Level 2</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="credits.html">Credits</a></li>
      </ul>
    </div>
  </div>
</div>
<button id="mimin-mobile-menu-opener" class="animated rubberBand btn btn-circle btn-danger">
  <span class="fa fa-bars"></span>
</button>
<!-- end: Mobile -->

<!-- start: Javascript -->
<script src="asset/js/jquery.min.js"></script>
<script src="asset/js/jquery.ui.min.js"></script>
<script src="asset/js/bootstrap.min.js"></script>


<!-- plugins -->
<script src="asset/js/plugins/moment.min.js"></script>
<script src="asset/js/plugins/fullcalendar.min.js"></script>
<script src="asset/js/plugins/jquery.nicescroll.js"></script>
<script src="asset/js/plugins/jquery.vmap.min.js"></script>
<script src="asset/js/plugins/maps/jquery.vmap.world.js"></script>
<script src="asset/js/plugins/jquery.vmap.sampledata.js"></script>
<script src="asset/js/plugins/chart.min.js"></script>


<!-- custom -->
<script src="asset/js/main.js"></script>
<script type="text/javascript">
  (function (jQuery) {

    // start: Chart =============

    Chart.defaults.global.pointHitDetectionRadius = 1;
    Chart.defaults.global.customTooltips = function (tooltip) {

      var tooltipEl = $('#chartjs-tooltip');

      if (!tooltip) {
        tooltipEl.css({
          opacity: 0
        });
        return;
      }

      tooltipEl.removeClass('above below');
      tooltipEl.addClass(tooltip.yAlign);

      var innerHtml = '';
      if (undefined !== tooltip.labels && tooltip.labels.length) {
        for (var i = tooltip.labels.length - 1; i >= 0; i--) {
          innerHtml += [
            '<div class="chartjs-tooltip-section">',
            '   <span class="chartjs-tooltip-key" style="background-color:' + tooltip.legendColors[i].fill + '"></span>',
            '   <span class="chartjs-tooltip-value">' + tooltip.labels[i] + '</span>',
            '</div>'
          ].join('');
        }
        tooltipEl.html(innerHtml);
      }

      tooltipEl.css({
        opacity: 1,
        left: tooltip.chart.canvas.offsetLeft + tooltip.x + 'px',
        top: tooltip.chart.canvas.offsetTop + tooltip.y + 'px',
        fontFamily: tooltip.fontFamily,
        fontSize: tooltip.fontSize,
        fontStyle: tooltip.fontStyle
      });
    };
    var randomScalingFactor = function () {
      return Math.round(Math.random() * 100);
    };
    var lineChartData = {
      labels: ["January", "February", "March", "April", "May", "June", "July"],
      datasets: [{
        label: "My First dataset",
        fillColor: "rgba(21,186,103,0.4)",
        strokeColor: "rgba(220,220,220,1)",
        pointColor: "rgba(66,69,67,0.3)",
        pointStrokeColor: "#fff",
        pointHighlightFill: "#fff",
        pointHighlightStroke: "rgba(220,220,220,1)",
        data: [18, 9, 5, 7, 4.5, 4, 5, 4.5, 6, 5.6, 7.5]
      }, {
        label: "My Second dataset",
        fillColor: "rgba(21,113,186,0.5)",
        strokeColor: "rgba(151,187,205,1)",
        pointColor: "rgba(151,187,205,1)",
        pointStrokeColor: "#fff",
        pointHighlightFill: "#fff",
        pointHighlightStroke: "rgba(151,187,205,1)",
        data: [4, 7, 5, 7, 4.5, 4, 5, 4.5, 6, 5.6, 7.5]
      }]
    };

    var doughnutData = [
      {
        value: 300,
        color: "#129352",
        highlight: "#15BA67",
        label: "Alfa"
      },
      {
        value: 50,
        color: "#1AD576",
        highlight: "#15BA67",
        label: "Beta"
      },
      {
        value: 100,
        color: "#FDB45C",
        highlight: "#15BA67",
        label: "Gamma"
      },
      {
        value: 40,
        color: "#0F5E36",
        highlight: "#15BA67",
        label: "Peta"
      },
      {
        value: 120,
        color: "#15A65D",
        highlight: "#15BA67",
        label: "X"
      }

    ];


    var doughnutData2 = [
      {
        value: 100,
        color: "#129352",
        highlight: "#15BA67",
        label: "Alfa"
      },
      {
        value: 250,
        color: "#FF6656",
        highlight: "#FF6656",
        label: "Beta"
      },
      {
        value: 100,
        color: "#FDB45C",
        highlight: "#15BA67",
        label: "Gamma"
      },
      {
        value: 40,
        color: "#FD786A",
        highlight: "#15BA67",
        label: "Peta"
      },
      {
        value: 120,
        color: "#15A65D",
        highlight: "#15BA67",
        label: "X"
      }

    ];

    var barChartData = {
      labels: ["January", "February", "March", "April", "May", "June", "July"],
      datasets: [
        {
          label: "My First dataset",
          fillColor: "rgba(21,186,103,0.4)",
          strokeColor: "rgba(220,220,220,0.8)",
          highlightFill: "rgba(21,186,103,0.2)",
          highlightStroke: "rgba(21,186,103,0.2)",
          data: [65, 59, 80, 81, 56, 55, 40]
        },
        {
          label: "My Second dataset",
          fillColor: "rgba(21,113,186,0.5)",
          strokeColor: "rgba(151,187,205,0.8)",
          highlightFill: "rgba(21,113,186,0.2)",
          highlightStroke: "rgba(21,113,186,0.2)",
          data: [28, 48, 40, 19, 86, 27, 90]
        }
      ]
    };

    window.onload = function () {
      var ctx = $(".doughnut-chart")[0].getContext("2d");
      window.myDoughnut = new Chart(ctx).Doughnut(doughnutData, {
        responsive: true,
        showTooltips: true
      });

      var ctx2 = $(".line-chart")[0].getContext("2d");
      window.myLine = new Chart(ctx2).Line(lineChartData, {
        responsive: true,
        showTooltips: true,
        multiTooltipTemplate: "<%= value %>",
        maintainAspectRatio: false
      });

      var ctx3 = $(".bar-chart")[0].getContext("2d");
      window.myLine = new Chart(ctx3).Bar(barChartData, {
        responsive: true,
        showTooltips: true
      });

      var ctx4 = $(".doughnut-chart2")[0].getContext("2d");
      window.myDoughnut2 = new Chart(ctx4).Doughnut(doughnutData2, {
        responsive: true,
        showTooltips: true
      });

    };

    //  end:  Chart =============

    // start: Calendar =========
    $('.dashboard .calendar').fullCalendar({
      header: {
        left: 'prev,next today',
        center: 'title',
        right: 'month,agendaWeek,agendaDay'
      },
      defaultDate: '2015-02-12',
      businessHours: true, // display business hours
      editable: true,
      events: [
        {
          title: 'Business Lunch',
          start: '2015-02-03T13:00:00',
          constraint: 'businessHours'
        },
        {
          title: 'Meeting',
          start: '2015-02-13T11:00:00',
          constraint: 'availableForMeeting', // defined below
          color: '#20C572'
        },
        {
          title: 'Conference',
          start: '2015-02-18',
          end: '2015-02-20'
        },
        {
          title: 'Party',
          start: '2015-02-29T20:00:00'
        },

        // areas where "Meeting" must be dropped
        {
          id: 'availableForMeeting',
          start: '2015-02-11T10:00:00',
          end: '2015-02-11T16:00:00',
          rendering: 'background'
        },
        {
          id: 'availableForMeeting',
          start: '2015-02-13T10:00:00',
          end: '2015-02-13T16:00:00',
          rendering: 'background'
        },

        // red areas where no events can be dropped
        {
          start: '2015-02-24',
          end: '2015-02-28',
          overlap: false,
          rendering: 'background',
          color: '#FF6656'
        },
        {
          start: '2015-02-06',
          end: '2015-02-08',
          overlap: true,
          rendering: 'background',
          color: '#FF6656'
        }
      ]
    });
    // end : Calendar==========

    // start: Maps============

    // end: Maps==============

  })(jQuery);
</script>
<!-- end: Javascript -->
</body>
{% endblock %}

</html>